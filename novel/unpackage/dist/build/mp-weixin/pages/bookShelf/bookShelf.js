(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/bookShelf/bookShelf"],{"0335":function(t,o,e){"use strict";e.r(o);var n=e("c0c6"),a=e.n(n);for(var u in n)"default"!==u&&function(t){e.d(o,t,(function(){return n[t]}))}(u);o["default"]=a.a},"03b7":function(t,o,e){},"2b82":function(t,o,e){"use strict";var n=e("03b7"),a=e.n(n);a.a},4107:function(t,o,e){"use strict";e.r(o);var n=e("7b61"),a=e("0335");for(var u in a)"default"!==u&&function(t){e.d(o,t,(function(){return a[t]}))}(u);e("2b82");var r,i=e("f0c5"),c=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,"45729f12",null,!1,n["a"],r);o["default"]=c.exports},"7b61":function(t,o,e){"use strict";var n;e.d(o,"b",(function(){return a})),e.d(o,"c",(function(){return u})),e.d(o,"a",(function(){return n}));var a=function(){var t=this,o=t.$createElement,e=(t._self._c,t.__map(t.bookShelfData,(function(o,e){var n=t.__get_orig(o),a=t.bookStatus(o.status);return{$orig:n,m0:a}})));t.$mp.data=Object.assign({},{$root:{l0:e}})},u=[]},c0c6:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=a(e("7f90"));function a(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{editStatus:!0,bookShelfData:[]}},methods:{bookStatus:function(t){switch(t){case 0:return"已完结";case 1:return"待更新";case 2:return"停更"}},editHandle:function(){this.editStatus=!1,console.log(this.editStatus)},successHandle:function(){this.editStatus=!0;for(var t=[],o=0;o<this.bookShelfData.length;o++)!0===this.bookShelfData[o].checkBox&&(console.log(o),t.push(this.bookShelfData[o].id));this.delBookShelf(t)},checkBoxHandle:function(t){console.log(t),this.bookShelfData[t].checkBox=!this.bookShelfData[t].checkBox},reqBookShelf:function(o){var e=this,a=t.getStorageSync("userId");n.default.get("/bookshelf",{userId:a},(function(t){console.log(t),e.bookShelfData=t.data,o&&o()}))},delBookShelf:function(o){var e=this,a="",u="";t.getStorage({key:"userId",success:function(t){a=t.data}}),t.getStorage({key:"token",success:function(t){u=t.data}}),n.default.post("/bookshelf/delete",{userId:a,token:u,id:o},(function(t){t&&e.reqBookShelf()}))}},onShow:function(){var o=t.getStorageSync("token");if(console.log(o),!o||""===o)return this.bookShelfData=[],void t.redirectTo({url:"/pages/login/login"});this.bookShelfData.length>0||this.reqBookShelf()},onLoad:function(){var o=this;t.getStorage({key:"token",fail:function(e){o.bookShelfData=[],t.redirectTo({url:"/pages/login/login"})}}),this.reqBookShelf()},onPullDownRefresh:function(t){function o(){return t.apply(this,arguments)}return o.toString=function(){return t.toString()},o}((function(){var o=this;t.getStorage({key:"token",fail:function(e){o.bookShelfData=[],t.redirectTo({url:"/pages/login/login"})}}),this.reqBookShelf((function(){onPullDownRefresh()}))}))};o.default=u}).call(this,e("543d")["default"])},dd90:function(t,o,e){"use strict";(function(t){e("b9b0");n(e("66fd"));var o=n(e("4107"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])}},[["dd90","common/runtime","common/vendor"]]]);