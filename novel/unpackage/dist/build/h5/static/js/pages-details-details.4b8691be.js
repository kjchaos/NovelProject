(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-details-details"],{"0676":function(t,e,a){"use strict";a("26e9"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{bookData:{type:Object,default:null},chapterListData:{type:Array,default:function(){return[]}},chapterShow:{type:Boolean,default:!1}},data:function(){return{scrollTop:0,orderDesc:!0,chapterDataTemp:[]}},methods:{bookStatus:function(){switch(this.bookData.status){case 0:return"连载中";case 1:return"完结";case 2:return"停更"}},shadowBoxClick:function(){uni.$emit("clickShadow",{})},selectChapter:function(t){uni.$emit("clickShadow",{}),uni.$emit("selectChapter",{num:t})},orderChange:function(){this.orderDesc=!this.orderDesc,this.chapterDataTemp.length<=0?this.chapterDataTemp=this.chapterListData.reverse():this.chapterDataTemp=this.chapterDataTemp.reverse()}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){t.$nextTick((function(){t.$refs.scrollView.$el.style.height=e.windowHeight+"px"}))}})}};e.default=n},"0a9a":function(t,e,a){"use strict";var n=a("d70b"),o=a.n(n);o.a},"1d83":function(t,e,a){"use strict";a.r(e);var n=a("0676"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},"34a7":function(t,e,a){"use strict";var n=a("920f"),o=a.n(n);o.a},4089:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".scroll-Y[data-v-5fea2e29]{height:%?700?%}.chapter-container[data-v-5fea2e29]{width:%?750?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;position:fixed;top:0;bottom:0;left:-500px;-webkit-transition:all .5s;transition:all .5s}.chapter-container.active[data-v-5fea2e29]{left:0}.shadow-box[data-v-5fea2e29]{-webkit-box-flex:1;-webkit-flex:1 0;flex:1 0;background-color:#333;opacity:.5}.chapter-list[data-v-5fea2e29]{-webkit-box-flex:0;-webkit-flex:0 0 75%;flex:0 0 75%;background-color:#fefefe;padding:%?30?%}.chapter-list .chapter-list-top[data-v-5fea2e29]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.chapter-list .chapter-list-top .img[data-v-5fea2e29]{width:%?120?%;height:%?170?%;border-radius:%?6?%;margin-right:%?20?%}.chapter-list .chapter-list-top .name[data-v-5fea2e29]{color:#333}.chapter-list .chapter-list-top .author[data-v-5fea2e29]{font-size:%?30?%;color:#555;margin-top:%?20?%}.chapter-list .chapter-list-middle[data-v-5fea2e29]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?30?% 0}.chapter-list .chapter-list-middle .left[data-v-5fea2e29]{color:#999;font-size:%?26?%}.chapter-list .chapter-list-middle .left .fenge[data-v-5fea2e29]{color:silver;font-size:%?20?%;line-height:%?20?%;padding:0 %?8?%}.chapter-list .chapter-list-middle .right[data-v-5fea2e29]{font-size:%?26?%}.chapter-list .chapter-list-middle .right span[data-v-5fea2e29]{margin-right:%?14?%}.chapter-list .chapter-list-footer[data-v-5fea2e29]{font-size:%?28?%}.chapter-list .chapter-list-footer uni-view[data-v-5fea2e29]{border-top:%?1?% solid #f5f5f5;margin-right:%?12?%;padding:%?20?% 0}",""]),t.exports=e},"6f56":function(t,e,a){"use strict";a.r(e);var n=a("e2a8"),o=a("f307");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("0a9a");var c,s=a("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"48e4c9ed",null,!1,n["a"],c);e["default"]=r.exports},"8ad7":function(t,e,a){"use strict";var n=a("4ea4");a("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("c887")),i=n(a("7f90")),c=(n(a("00d1")),{components:{chapterList:o.default},data:function(){return{menuStatus:!1,dayOrNight:!0,backgroudColor:["#E6DFBD","#4EEE94","#FFF0F5","#40E0D0","#EED8AE"],backgroundClass:"background0",fontSize:40,fontClass:"font40",activeColor:0,ctrlBottomIndex:-1,bookData:{id:1,name:"九星霸体诀",authorName:"平凡的魔术师",status:0,imgSrc:"../../static/images/mingren.jpg"},addBookShelf:!1,chapterStatus:!1,screenWidth:0,chapterTotal:1e5,backNum:0,chapterData:{},chapterListData:[],controlStatus:!1,chapterListShow:!1}},methods:{changeMenuStatus:function(){this.ctrlBottomIndex=-1,this.menuStatus=!this.menuStatus},chapterHandle:function(t){this.getChapterReq(this.bookData.id,this.chapterData.chapterNum+t),uni.pageScrollTo({scrollTop:0,duration:100})},selectChapter:function(t){this.getChapterReq(this.bookData.id,t.num),uni.pageScrollTo({scrollTop:0,duration:100})},changeDayNight:function(){this.ctrlBottomIndex=2,this.dayOrNight=!this.dayOrNight,this.dayOrNight?(this.backgroundClass=uni.getStorageSync("backgroundColor"),uni.setStorage({key:"dayOrNight",data:!0})):(this.backgroundClass="night",uni.setStorage({key:"dayOrNight",data:!1}))},colorActive:function(t){return this.activeColor===t?"active":""},changeFontSize:function(t){this.fontSize+=t,this.fontSize<=28||this.fontSize>=70?this.fontSize-=t:(uni.setStorage({key:"fontSize",data:this.fontSize}),this.fontClass="font"+this.fontSize)},showChapter:function(){var t=this;this.ctrlBottomIndex=1,this.chapterStatus=!0,this.chapterListShow=!0,this.menuStatus=!1,i.default.getChapter({id:this.bookData.id},(function(e){t.chapterListData=e.data}))},handleShadow:function(){this.ctrlBottomIndex=-1,this.chapterListShow=!1},changebackground:function(t){this.activeColor=t,this.backgroundClass="background"+t,uni.setStorage({key:"backgroundColor",data:"background"+t})},backPage:function(){uni.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},getChapterReq:function(t,e,a){var n=this;e<0?uni.showToast({title:"已是第一章",position:"bottom"}):e>this.chapterTotal?uni.showToast({title:"已是最后一章",position:"bottom"}):(uni.showLoading({title:"加载中"}),this.controlStatus=!1,i.default.getRecChapter({bookId:t,num:e},(function(t){n.chapterData=t.data[0],console.log(n.chapterData),uni.hideLoading(),n.$nextTick((function(){console.log(this.$refs),console.log(this.chapterData.chapterNum),a&&a(),this.addBookShelf&&this.updateBookShelf(this.bookData.id,this.chapterData.chapterNum)}))})))},isBookShelfed:function(t){var e=this,a=uni.getStorageSync("userId");i.default.get("/bookshelf/exits",{userId:a,bookId:t},(function(t){t.data&&(e.addBookShelf=!0)}))},hasReadCard:function(t,e){var a=uni.getStorageSync("userId");i.default.get("/readcard/exits",{userId:a,bookId:t},(function(t){e&&e(t)}))},addToReadCard:function(t,e){var a=uni.getStorageSync("userId");i.default.post("/readcard",{userId:a,bookId:t},(function(t){e&&e(t)}))},updateReadCard:function(t,e){var a=uni.getStorageSync("userId");i.default.put("/readcard",{userId:a,bookId:t},(function(t){e&&e(t)}))},updateBookShelf:function(t,e){var a=uni.getStorageSync("userId");i.default.put("/bookshelf",{userId:a,bookId:t,chapterNum:e})},leaveDetail:function(){uni.getStorageSync("userId");console.log("离开页面，询问是否加入书架")}},onLoad:function(t){var e=this;uni.showLoading({title:"加载中"}),console.log(t),i.default.getBook({id:t.bookId},(function(t){console.log(t.data),e.bookData=t.data.data[0],e.chapterTotal=t.data.chapterTotal,console.log(e.chapterTotal,"llls")})),this.getChapterReq(t.bookId,t.chapterNum,(function(){e.controlStatus=!0})),uni.$on("clickShadow",this.handleShadow),uni.$on("selectChapter",this.selectChapter),uni.getStorage({key:"fontSize",success:function(t){e.fontSize=t.data,e.fontClass="font"+e.fontSize},fail:function(){uni.setStorage({key:"fontSize",data:40})}}),uni.getStorage({key:"backgroundColor",success:function(t){e.backgroundClass=t.data,e.activeColor=parseInt(e.backgroundClass.substring(10)),console.log(e.activeColor,e.backgroundClass.substring(10),"llk")},fail:function(){uni.setStorage({key:"backgroundColor",data:"background0"})}}),uni.getStorage({key:"token",success:function(a){a.data;e.isBookShelfed(t.bookId),e.hasReadCard(t.bookId,(function(a){console.log(a),a.data?e.updateReadCard(t.bookId):e.addToReadCard(t.bookId)}))}})},mounted:function(){this.screenWidth=uni.getSystemInfoSync().windowWidth}});e.default=c},"920f":function(t,e,a){var n=a("4089");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("4f06").default;o("34c5f5b4",n,!0,{sourceMap:!1,shadowMode:!1})},c770:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".novel-details[data-v-48e4c9ed]{background-color:#e6dfbd;padding:%?50?% %?36?% %?50?% %?46?%}.novel-details.background0[data-v-48e4c9ed]{background-color:#e6dfbd}.novel-details.background1[data-v-48e4c9ed]{background-color:#4eee94}.novel-details.background2[data-v-48e4c9ed]{background-color:#fff0f5}.novel-details.background3[data-v-48e4c9ed]{background-color:#40e0d0}.novel-details.background4[data-v-48e4c9ed]{background-color:#eed8ae}.novel-details.night[data-v-48e4c9ed]{background-color:#000;color:#fff}.novel-details .novel-title[data-v-48e4c9ed]{margin:%?20?% 0;margin-right:%?12?%;font-weight:200;font-size:%?30?%}.novel-details .novel-content[data-v-48e4c9ed]{font-weight:400;letter-spacing:%?1?%;font-size:%?40?%}.novel-details .novel-content .content-p[data-v-48e4c9ed]{text-indent:2em;text-align:justify;margin-bottom:%?30?%;margin-top:%?30?%}.novel-details .novel-content.font34[data-v-48e4c9ed]{font-size:%?34?%}.novel-details .novel-content.font40[data-v-48e4c9ed]{font-size:%?40?%}.novel-details .novel-content.font46[data-v-48e4c9ed]{font-size:%?46?%}.novel-details .novel-content.font52[data-v-48e4c9ed]{font-size:%?52?%}.novel-details .novel-content.font58[data-v-48e4c9ed]{font-size:%?58?%}.novel-details .novel-content.font64[data-v-48e4c9ed]{font-size:%?64?%}.novel-details .novel-footer[data-v-48e4c9ed]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.novel-details .novel-footer span[data-v-48e4c9ed]{padding:%?20?% %?30?%}.ctrl-top[data-v-48e4c9ed]{width:%?750?%;position:fixed;top:%?-245?%;z-index:999;color:#fff;background-color:#333;-webkit-transition:all .5s;transition:all .5s}.ctrl-top .back-prev[data-v-48e4c9ed]{padding:%?30?% %?50?%}.ctrl-top.active[data-v-48e4c9ed]{top:0}.ctrl-bottom[data-v-48e4c9ed]{width:%?750?%;position:fixed;bottom:%?-245?%;z-index:999;color:#fff;background-color:#333;-webkit-transition:all .5s;transition:all .5s}.ctrl-bottom.active[data-v-48e4c9ed]{bottom:0}.ctrl-bottom .select-content[data-v-48e4c9ed]{font-size:%?30?%}.ctrl-bottom .select-content .chapter-ctrl[data-v-48e4c9ed]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ctrl-bottom .select-content .chapter-ctrl span[data-v-48e4c9ed]{padding:%?30?% %?70?%}.ctrl-bottom .select-content .setting uni-view[data-v-48e4c9ed]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% 0;padding-left:%?70?%}.ctrl-bottom .select-content .setting uni-view p span[data-v-48e4c9ed]{border:%?2?% solid #fff;padding:%?8?% %?40?%;border-radius:%?50?%}.ctrl-bottom .select-content .setting uni-view p .font-fize[data-v-48e4c9ed]{border:none;color:silver}.ctrl-bottom .select-content .setting .background p[data-v-48e4c9ed]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.ctrl-bottom .select-content .setting .background p uni-view[data-v-48e4c9ed]{padding:%?5?%;margin-right:%?35?%;border:%?2?% solid #333;border-radius:50%}.ctrl-bottom .select-content .setting .background p uni-view span[data-v-48e4c9ed]{display:inline-block;padding:%?30?%;border-radius:50%}.ctrl-bottom .select-content .setting .background p uni-view.active[data-v-48e4c9ed]{border:%?2?% solid #fff}.ctrl-bottom .select-content .title[data-v-48e4c9ed]{font-size:%?34?%;margin-right:%?30?%}.ctrl-bottom .ctrl-menu[data-v-48e4c9ed]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.ctrl-bottom .ctrl-menu uni-view[data-v-48e4c9ed]{-webkit-box-flex:0;-webkit-flex:0 0 25%;flex:0 0 25%;text-align:center;padding:%?30?% 0}.ctrl-bottom .ctrl-menu uni-view div[data-v-48e4c9ed]{font-size:%?25?%}",""]),t.exports=e},c887:function(t,e,a){"use strict";a.r(e);var n=a("f999"),o=a("1d83");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("34a7");var c,s=a("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"5fea2e29",null,!1,n["a"],c);e["default"]=r.exports},d70b:function(t,e,a){var n=a("c770");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=a("4f06").default;o("62f09a06",n,!0,{sourceMap:!1,shadowMode:!1})},e2a8:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={chapterList:a("c887").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{ref:"novelDetails",class:["novel-details",t.backgroundClass]},[a("v-uni-view",{staticClass:"novel-title"},[t._v(t._s(t.chapterData.title))]),a("v-uni-view",{ref:"novelContent",class:["novel-content",t.fontClass],domProps:{innerHTML:t._s(t.chapterData.content)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeMenuStatus()}}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.controlStatus,expression:"controlStatus"}],staticClass:"novel-footer"},[a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chapterHandle(-1)}}},[t._v("上一章")]),a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chapterHandle(1)}}},[t._v("下一章")])])],1),a("v-uni-view",[a("v-uni-view",{ref:"ctrlTop",class:["ctrl-top",{active:t.menuStatus}]},[a("v-uni-view",{staticClass:"back-prev",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backPage.apply(void 0,arguments)}}},[a("span",{staticClass:"iconfont icon-fanhui_xia"})])],1),a("v-uni-view",{ref:"ctrlBottom",class:["ctrl-bottom",{active:t.menuStatus}]},[a("v-uni-view",{staticClass:"select-content"},[3===t.ctrlBottomIndex?a("v-uni-view",{staticClass:"chapter-ctrl"},[a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chapterHandle(-1)}}},[t._v("上一章")]),a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chapterHandle(1)}}},[t._v("下一章")])]):t._e(),4===t.ctrlBottomIndex?a("v-uni-view",{staticClass:"setting"},[a("v-uni-view",[a("span",{staticClass:"title"},[t._v("字号")]),a("p",[a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeFontSize(-6)}}},[t._v("A-")]),a("span",{staticClass:"font-fize"},[t._v(t._s(t.fontSize))]),a("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeFontSize(6)}}},[t._v("A+")])])]),a("v-uni-view",{staticClass:"background"},[a("span",{staticClass:"title"},[t._v("背景")]),a("p",t._l(t.backgroudColor,(function(e,n){return a("v-uni-view",{key:n,class:t.activeColor===n?"active":""},[a("span",{style:"background-color: "+e+";",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changebackground(n)}}})])})),1)])],1):t._e()],1),a("v-uni-view",{staticClass:"ctrl-menu"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showChapter()}}},[a("span",{staticClass:"iconfont icon-mulu"}),a("div",[t._v("目录")])]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeDayNight()}}},[a("span",{class:t.dayOrNight?"iconfont icon-rijian":"iconfont icon-yejian"}),a("div",[t._v(t._s(t.dayOrNight?"日间":"夜间"))])]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ctrlBottomIndex=3}}},[a("span",{staticClass:"iconfont icon-jindu1"}),a("div",[t._v("进度")])]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ctrlBottomIndex=4}}},[a("span",{staticClass:"iconfont icon-xitongshezhi"}),a("div",[t._v("设置")])])],1)],1)],1),a("chapter-list",{directives:[{name:"show",rawName:"v-show",value:t.chapterStatus,expression:"chapterStatus"}],ref:"chapterList",attrs:{chapterListData:t.chapterListData,bookData:t.bookData,chapterShow:t.chapterListShow}})],1)},i=[]},f307:function(t,e,a){"use strict";a.r(e);var n=a("8ad7"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},f999:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{ref:"chapterContainer",class:["chapter-container",{active:t.chapterShow}]},[a("v-uni-view",{staticClass:"chapter-list"},[a("v-uni-navigator",{attrs:{url:"../../pages/book/book?id="+t.bookData.id}},[a("v-uni-view",{staticClass:"chapter-list-top"},[a("v-uni-image",{staticClass:"img",attrs:{src:t.bookData.imgSrc}}),a("v-uni-view",[a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.bookData.name))]),a("v-uni-view",{staticClass:"author"},[t._v(t._s(t.bookData.authorName))])],1)],1)],1),a("v-uni-view",{staticClass:"chapter-list-middle"},[a("p",{staticClass:"left"},[a("span",[t._v(t._s(t.bookStatus()))]),a("span",{staticClass:"fenge"},[t._v("|")]),a("span",[t._v("共3598章")])]),a("p",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.orderChange()}}},[a("span",{class:t.orderDesc?"iconfont icon-shunxu-copy":"iconfont icon-shunxu"}),a("span",[t._v(t._s(t.orderDesc?"顺序":"倒序"))])])]),a("v-uni-view",{staticClass:"chapter-list-footer"},[a("v-uni-scroll-view",{ref:"scrollView",staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"}},t._l(t.chapterDataTemp.length<=0?t.chapterListData:t.chapterDataTemp,(function(e){return a("v-uni-view",{key:e.id,on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectChapter(e.chapterNum)}}},[t._v(t._s(e.title))])})),1)],1)],1),a("v-uni-view",{staticClass:"shadow-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shadowBoxClick.apply(void 0,arguments)}}})],1)},i=[]}}]);