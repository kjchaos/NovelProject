(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/book/book"],{"0814":function(t,e,a){"use strict";a.r(e);var o=a("231e"),i=a("a7d0");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("d54e");var s=a("2877"),r=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"5d53a2a4",null);e["default"]=r.exports},"231e":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},"35b5":function(t,e,a){"use strict";(function(t){a("b9b0"),a("921b");o(a("66fd"));var e=o(a("0814"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},5771:function(t,e,a){},a7d0:function(t,e,a){"use strict";a.r(e);var o=a("cb98"),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=i.a},cb98:function(t,e,a){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("00d1")),n=s(a("7f90"));function s(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{currentTab:0,tabs:["详情","目录"],duration:500,addBookShelf:!1,swiperCurrent:0,item1_h:0,item2_h:1,tabStatus1:!1,bookData:{},recChapterData:{},titleListData:[]}},methods:{changeNav:function(t){var e=this;switch(this.swiperCurrent=-1,this.tabStatus1||1!==t||(this.tabStatus1=!0,this.firstShow(this.bookData.id)),setTimeout(function(){e.swiperCurrent=t},0),t){case 0:this.item1_h=this.getSwiperItemH(this.$refs.item1.$el);break;case 1:this.item2_h=this.getSwiperItemH(this.$refs.item2.$el);break}},slideChange:function(t){switch(this.currentTab=t.detail.current,this.tabStatus1||1!==t.detail.current||(this.tabStatus1=!0,this.firstShow(this.bookData.id)),t.detail.current){case 0:this.item1_h=this.getSwiperItemH(this.$refs.item1.$el);break;case 1:this.item2_h=this.getSwiperItemH(this.$refs.item2.$el);break}},getSwiperItemH:function(t){var e=t.offsetHeight+50;return e<300&&(e=300),this.$refs.swiper.$el.style.height=e+"px",e},addToShelf:function(){var e=this;n.default.addToShelf({userId:"123456",num:1,bookId:this.bookData.id},function(a){console.log(t(a," at pages\\book\\book.vue:141")),a?(e.isBookShelfed(e.bookData.id),o.showToast({title:"加入书架成功",position:"bottom"})):o.showToast({title:"加入书架失败",position:"bottom"})})},firstShow:function(t){var e=this;n.default.getChapter({id:t},function(t){e.titleListData=t.data})},isBookShelfed:function(e){var a=this;n.default.get("/bookshelf/exits",{userId:"123456",bookId:e},function(e){console.log(t(e.data," at pages\\book\\book.vue:166")),e.data&&(a.addBookShelf=!0)})}},onLoad:function(e){var a=this;console.log(t(e.id," at pages\\book\\book.vue:174")),o.showLoading({title:"加载中"}),n.default.getBook({id:e.id},function(e){console.log(t(e," at pages\\book\\book.vue:182")),a.bookData=e.data.data[0]}),n.default.getRecChapter({bookId:e.id,num:1},function(t){a.recChapterData=t.data[0],a.recChapterData.content=i.default.pToView(a.recChapterData.content,"data-v-1f22b4e8"),a.$refs.item1.$el.innerHTML=a.recChapterData.content,a.getSwiperItemH(a.$refs.item1.$el),o.hideLoading()}),this.isBookShelfed(e.id)},mounted:function(){}};e.default=r}).call(this,a("0de9")["default"],a("6e42")["default"])},d54e:function(t,e,a){"use strict";var o=a("5771"),i=a.n(o);i.a}},[["35b5","common/runtime","common/vendor"]]]);